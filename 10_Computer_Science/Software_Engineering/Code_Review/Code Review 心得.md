[參考文章](https://endler.dev/2025/how-to-review-code/?ref=dailydev)
# 如何有效地審查程式碼：Matthias Endler 的建議


## 1. 著眼於大局 (Think About The Big Picture)

*   **避免狹隘的審查**：糟糕的審查只關注語法、風格和小問題，而忽略了程式碼的可維護性和可擴展性。
*   **深思程式碼的影響**：好的審查不僅看程式碼的變更，更要思考這些變更解決了什麼問題、可能引發什麼未來問題，以及它如何融入系統的整體設計和架構。
*   **檢查未變更的程式碼區塊**：未被修改的部分通常能揭示真實情況，例如是否遺漏更新相關文件、測試或資料型別。
*   **審視整體系統互動**：思考新程式碼如何與系統其他部分互動，對整體架構有何影響，以及是否影響未來的開發計畫。
*   **重視文件、測試和資料型別**：這些與程式碼本身同等重要，資深開發者的職責在於降低營運摩擦並進行專案的風險管理。
*   **尋找更好的抽象**：隨著程式碼的演進，應持續關注是否有更好的抽象化方式。

## 2. 命名至關重要 (Naming Is Everything)

*   **投入大量時間思考命名**：命名是程式碼審查中最重要且最具挑戰性的部分。
*   **命名是程式碼的「建構區塊」**：清晰有意義的名稱能夠封裝概念，降低認知負擔，使程式碼更容易理解。
*   **糟糕命名暗示深層問題**：不清晰或隨意的命名會大幅增加理解邏輯的難度，是程式碼異味的一種。
*   **使用有意義的變數名稱**：即使感覺像是在鑽牛角尖，也要為變數取最貼切的名稱，尤其是在大型程式碼庫中，這有助於團隊建立共享理解。

## 3. 不要害怕說「不」 (Don’t Be Afraid To Say “No”)

*   **為專案的長期健康考量**：有時必須拒絕不符合標準的變更，即使作者付出了努力。
*   **客觀說明理由並提供替代方案**：避免粉飾決定，應客觀地解釋拒絕的原因，並提供更好的替代方案。
*   **避免「稍後再修復」的陷阱**：接受不完善的程式碼會導致技術債和額外工作，應堅持立場。
*   **拒絕的是程式碼而非個人**：提醒自己和作者，你是在拒絕程式碼，而非輕視個人努力，並表達對其貢獻的感謝。
*   **以事實佐證拒絕**：依據事實而非直覺來支持你的決定，若重複出現相同的問題，考慮撰寫風格指南或規範。

## 4. 程式碼審查是溝通 (Code Review Is Communication)

*   **重視人際關係**：程式碼審查不僅關乎程式碼，也關乎與同事建立良好的關係。
*   **初期配對編程審查**：可能的話，第一次審查可以透過配對編程進行，這有助於了解彼此的溝通風格，建立信任和相互理解。
*   **溝通問題時重複配對審查**：若發現溝通出現問題或誤解，應重複配對編程過程。

## 5. 採用多次迭代審查 (Use Multiple Iterations Of Reviews)

*   **審查是迭代過程**：程式碼審查不應被視為一次性任務，而是需要多次迭代才能完善程式碼。
*   **先關注大局再深入細節**：第一輪審查應側重於大局和整體設計，之後再審視細節。
*   **目標是高品質而非快速合併**：審查的最終目標是接受高品質的程式碼，而非追求快速合併。
*   **建立共享理解**：審查也關乎在團隊內部建立對程式碼的共享理解。
*   **學習與成長的機會**：透過審查他人的程式碼，能學習到新的編碼方式、技術和模式，促進個人和團隊的成長。

## 6. 不要當個混蛋 (Don’t Be A Jerk)

*   **保持尊重和建設性**：即使意見不合，也要保持尊重和建設性，避免人身攻擊或居高臨下的語氣。
*   **提出「蘇格拉底式問題」**：透過提問引導作者思考其決策，例如「這樣做會破壞現有工作流程嗎？」或「你考慮過哪些替代方案？」。
*   **給予正向肯定**：偶爾給予「我喜歡這個」或「這是個好主意」等正面評論，能激勵作者並表達對其工作的欣賞。
*   **反思審查風格**：只提出自己樂於接受的評論，並定期審視自己的審查風格，確保他人樂於接受你的回饋。

## 7. 盡可能運行程式碼 (If Possible, Try To Run The Code)

*   **親身運行以發現細微問題**：實際運行程式碼、測試和程式碼規範檢查工具（linters），甚至嘗試破壞它，能幫助發現僅憑閱讀程式碼難以察覺的細微問題。
*   **特別適用於用戶介面或錯誤訊息**：涉及用戶介面變更或錯誤訊息的程式碼，透過實際運行更能有效發現問題。

## 8. 坦誠告知你的可用性 (Be Upfront About Your Availability)

*   **避免成為開發瓶頸**：程式碼審查是開發過程中的一個常見瓶頸，因為它需要人工參與。
*   **主動溝通審查時間**：若無法在合理時間內審查程式碼，應主動告知作者，避免造成他人的等待和挫折。

## 9. 永不停止學習 (Never Stop Learning)

*   **學習新知識的絕佳途徑**：程式碼審查是學習新技術、模式、函式庫以及了解他人解決問題方式的絕佳途徑。
*   **促進團隊成長**：每次審查都是學習新事物的機會，這有助於團隊整體進步和成長。

## 10. 不要吹毛求疵 (Don’t Be Nitpicky)

*   **將格式問題交給自動化工具**：將程式碼格式和空格等問題留給格式化工具處理。
*   **專注於核心問題**：將精力集中在邏輯、設計、可維護性和正確性等真正重要的問題上。
*   **自問對功能的影響**：審查前自問：「這會影響功能嗎？」「會讓未來的開發人員感到困惑嗎？」如果答案為否，則應放手。

## 11. 專注於「為什麼」，而非「如何」 (Focus On The Why, Not The How)

*   **解釋變更背後的原因**：在審查程式碼時，解釋變更背後的理由比單純指出錯誤更有助於作者理解和改進。
*   **提供具體且有說服力的建議**：提供替代方案、參考文件並解釋潛在問題，會比直接的否定更有效且有助於長期學習。

## 12. 不要害怕問「笨問題」 (Don’t Be Afraid To Ask Stupid Questions)

*   **提問優於假設**：如果你不理解某個部分，請直接向作者提問，很可能你不是唯一不理解的人。
*   **深入理解程式碼和系統**：提問有助於更深入地理解程式碼和系統，也可能促使作者發現自己的假設錯誤或缺少文件。


