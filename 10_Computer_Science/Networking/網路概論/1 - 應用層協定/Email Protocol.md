POP3、IMAP 和 SMTP 是電子郵件系統中常見的應用層協定，各自負責不同的功能並在客戶端和伺服器間扮演不同角色。
以下是它們的具體作用、在伺服器和客戶端中的角色，並附上實際使用情境：

---

### 1. **POP3 (Post Office Protocol 3)**

- **功能**：POP3 是一種用於從郵件伺服器接收郵件的協定。當客戶端透過 POP3 從伺服器下載郵件後，通常這些郵件會從伺服器上刪除，並且僅在本地端保存。
    
- **伺服器與客戶端角色**：
    
    - **Server**：POP3 伺服器存儲並等待郵件客戶端（例如 Outlook、Thunderbird）連接以下載電子郵件。
    - **Client**：POP3 客戶端向伺服器發出下載郵件的請求，將郵件從伺服器下載至本地端。
- **使用情境**：適用於需要離線閱讀郵件、且不希望長期在伺服器保留郵件的用戶。
  例如，公司內部設置的電子郵件伺服器，員工通過 POP3 下載並管理自己的郵件副本。
    
- **預設端口**：**Port 110**（未加密），**Port 995**（加密，POP3S）。
    

---

### 2. **IMAP (Internet Message Access Protocol)**

- **功能**：IMAP 允許用戶從伺服器接收郵件，並保留郵件副本在伺服器上，使得客戶端之間可以同步郵件狀態（如已讀、未讀、標記），適合跨多設備存取。
    
- **伺服器與客戶端角色**：
    
    - **Server**：IMAP 伺服器存儲所有郵件，並根據客戶端的同步請求，將郵件狀態與內容同步至客戶端。
    - **Client**：IMAP 客戶端定期向伺服器同步郵件變更，允許在不同設備上進行相同的郵件管理。
- **使用情境**：適用於需要在多個設備上同步郵件的用戶。例如，辦公室職員在桌面電腦上處理工作郵件，也希望在手機上即時查看和同步郵件變更。
    
- **預設端口**：**Port 143**（未加密），**Port 993**（加密，IMAPS）。
    

---

### 3. **SMTP (Simple Mail Transfer Protocol)**

- **功能**：SMTP 是一種用於發送郵件至郵件伺服器的協定，主要用於客戶端向伺服器發送郵件，或伺服器之間的郵件轉發。
    
- **伺服器與客戶端角色**：
    
    - **Server**：SMTP 伺服器接收從客戶端或其他伺服器發送的郵件，並將其傳送至最終的目的伺服器。
    - **Client**：郵件客戶端使用 SMTP 將用戶的郵件發送到郵件伺服器，伺服器再負責傳遞到收件人的伺服器。
- **使用情境**：SMTP 適用於所有電子郵件發送的情境，例如，用戶透過 Outlook 發送工作郵件到同事的公司郵件地址時，郵件客戶端會通過 SMTP 將郵件發送至伺服器。
    
- **預設端口**：**Port 25**（未加密）、**Port 465**（加密，SMTPS）、**Port 587**（加密，推薦用於客戶端 SMTP 認證）。
    

---

### 總結

| 協定       | 功能               | 主要端口           | 角色          | 使用情境                |
| -------- | ---------------- | -------------- | ----------- | ------------------- |
| **POP3** | 從伺服器下載郵件（通常本地儲存） | 110 / 995      | 伺服器保存，客戶端下載 | 單設備離線郵件管理           |
| **IMAP** | 同步多設備上的郵件        | 143 / 993      | 伺服器保存，客戶端同步 | 多設備跨平台郵件同步          |
| **SMTP** | 發送郵件至伺服器或伺服器之間   | 25 / 465 / 587 | 伺服器發送或轉發郵件  | 客戶端發送郵件至伺服器、伺服器轉發郵件 |

這些協定組合讓電子郵件系統得以運行，IMAP 和 POP3 用於郵件接收，SMTP 用於郵件發送，每種協定在伺服器和客戶端間扮演著不同角色。