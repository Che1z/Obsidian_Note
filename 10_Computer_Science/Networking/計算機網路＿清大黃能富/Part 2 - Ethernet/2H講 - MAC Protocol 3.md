
2024/10/25

![[Pasted image 20241025172359.png]]

當發生**碰撞（collision**時，以太網（Ethernet）使用**jamming sequence（干擾訊號序列**來通知網路上的所有設備，表示有碰撞發生。
這種機制是 CSMA/CD（Carrier Sense Multiple Access with Collision Detection）協議的一部分，用來防止其他設備繼續傳送數據，並確保所有設備都能夠感知到碰撞。

### **Jamming Sequence 是什麼？**

**Jamming sequence** 是一串**32位元（32-bit）** 的二進制訊號，當設備偵測到碰撞時，會立即停止傳輸原來的數據幀，並傳送這個干擾訊號。Jamming sequence 的目的是：

1. **通知其他設備發生了碰撞**：干擾訊號強制干擾網路中的其他設備，使它們也能感知到碰撞的存在。
2. **避免不完全的資料包**：干擾訊號還可以防止原來的數據包被接收方誤解為有效數據包，因為碰撞後傳輸的數據是不完整且被破壞的。

### **為什麼 collision window 的來回時間是 51.2 微秒？**

在以太網中，碰撞窗口（collision window）的最大時間來自於整個網路的**最長雙向傳播延遲時間**，這是網路中兩個最遠的節點之間發送訊號到接收訊號所需的時間。

以下是 51.2 微秒的具體原因：

1. **10 Mbps 的速率**：標準的早期以太網（如 10BASE-T）速率是 10 Mbps（每秒傳輸 10 百萬位元）。
   傳輸一個位元（bit）所需的時間是：
```C
每位元時間 = 1 / 10 Mbps =100ns（納秒）
```
    
2. **512 位元的最小幀長度**：根據 CSMA/CD 的規定，以太網幀的最小長度是 512 位元（64 字節），這是為了確保設備能夠在最長的碰撞窗口內偵測到碰撞。
   因此，傳送一個 512 位元的幀所需的時間是：
```C
傳送時間=512×100ns=51.2μs
```