2024/10/29


![[Pasted image 20241029164833.png]]

在 **PCF**（Point Coordination Function）的免競爭週期 (**Contention-Free Period, CFP**) 期間，**Point Coordinator (PC)** 能夠與每個被輪詢的工作站進行**連續數據幀傳輸**，這種模式稱為 **Contention-Free Burst (CF-Burst)**。
PCF 利用**SIFS**（Short Interframe Space）來最小化等待時間，使得傳輸更有效率。

以下是連續傳輸數據幀的詳細說明：

### 1. PC 發送 CF-Poll 幀

PC 會先向某個工作站（Station, STA）發送 **CF-Poll** 幀，詢問該工作站是否有數據需要回應。如果該工作站有數據回應，它可以立即開始傳送數據幀。
PC 在接收數據幀後，可以選擇立刻回應 ACK 或者直接開始下一次 CF-Poll。

### 2. SIFS 等待時間

在 PC 和工作站之間的每次傳輸之間都遵循 **SIFS** 等待時間。
這比 DIFS 更短，確保了在 CFP 期間的 PC 擁有較高優先權。
SIFS 的短暫等待使得數據幀之間可以連續傳輸，避免了不必要的延遲。

### 3. 工作站的連續數據幀傳輸

如果 PC 對某個工作站進行輪詢，並且該工作站有多個數據幀要傳輸，那麼它可以**連續發送多個數據幀**。具體操作如下：

- 當 PC 發送 **CF-Poll** 幀給某個工作站，並且工作站確認收到後，它可以立即回傳數據幀，之後的數據幀也可以依次發送。
- 在每個數據幀之間遵循 SIFS 間隔，從而實現高效率的連續傳輸。

### 4. PC 的 ACK 和輪詢控制

在 CFP 期間，PC 可以**選擇是否立即回應 ACK**。
通常，在工作站傳送一個數據幀後，PC 會透過 **SIFS 間隔**快速回應 ACK。
這樣做的好處是確保數據幀的可靠傳輸。

- 如果需要，PC 也可以在一個數據幀結束後馬上進行下一次的 CF-Poll 輪詢，並跳過 ACK 來提高效率（例如在穩定連線中可能跳過 ACK）。

### 5. CF-Burst 的順序性

因為 PC 控制了每個輪詢與 ACK 的間隔，並且所有數據幀都在 PC 的掌控之下，因此**數據幀的連續傳輸順序是被控制的**。即便在 CFP 中進行高密度數據幀傳輸，傳輸的順序仍然井然有序，沒有競爭衝突的問題。

### 6. CFP 結束

當 CFP 結束時，PC 會發送一個 **CF-End** 幀，通知所有工作站此階段已結束。
此時，頻道重新開放進入競爭週期 (**Contention Period, CP**)，允許其他工作站進行傳輸。


![[Pasted image 20241029165308.png]]

當CP不是傳送端也不是接收端時
![[Pasted image 20241029165352.png]]

CP在收到ACK後，經過SIFS的時間，會繼續傳送 CF-Down，如果CP沒有收到ACK，則會 又重新開始等待 PIFS 的時間

S-To-S : Station to Station





