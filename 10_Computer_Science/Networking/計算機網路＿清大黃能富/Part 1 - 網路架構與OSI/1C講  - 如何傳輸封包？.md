2024/10/23

在網路通信中，封包傳遞過程具有動態性和靈活性。以下是詳細介紹：

### 1. **動態路徑選擇**：

封包在網路中傳遞時，所<mark style="background: #FFF3A3A6;">走的路徑不是預先固定的</mark>，這是因為網路狀態（例如流量負載、路由器狀態等）可能隨時發生變化。
路由器之間會互相交換信息，以獲取網路的最新狀況，並據此決定最佳路徑。這個過程稱為路由選擇。
例如，如果某條路徑出現擁塞或故障，封包將通過其他可用路徑進行傳輸。

### 2. **封包最大值與分片（Fragmentation）**：

網路上每個封包都有大小限制，通常稱為 **MTU（Maximum Transmission Unit）**，如果資料量超過此限制，資料會被拆分為多個較小的封包，每個分片都需要一個附加的標頭（header），其中包含了封包的位置信息和其他必要的傳輸信息。
這些分片的每個部分稱為 **packet message**，就像信件一樣，每一部分都附有<mark style="background: #FFF3A3A6;">信封（header）</mark>來標明它的來源和目的地，並幫助在目標設備重新組裝。

### 3. **封包丟失與傳輸失敗**：

網路傳輸過程中，封包不一定能夠保證100%傳送到目的地。這是因為在IP網路中，特別是使用UDP等不可靠的傳輸協定時，如果封包在網路中停留過久或發生錯誤，這些封包可能會被丟棄，稱為 **封包丟失**。
這是網路自我調整和保護的一部分，目的是避免不必要的壅塞和過期的數據在網路中持續佔用資源。

總結來說，封包在網路中的傳遞是一個動態且具彈性的過程，路徑會根據網路狀態實時調整，封包可能會因大小限制進行分片，每個分片都需要附帶額外的標頭，最終如果在傳輸過程中遇到困難或延遲過久，封包可能會被丟棄。