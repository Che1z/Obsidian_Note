# DHCP DORA Process

DHCP (Dynamic Host Configuration Protocol) 的 DORA 過程是客戶端從 DHCP 伺服器獲取 IP 位址的四個主要步驟。DORA 是 Discover, Offer, Request, 和 Acknowledge 的縮寫。

## 1. Discover (發現)

- **來源**: 客戶端 (Client)
- **目的**: 廣播 (Broadcast)
- **說明**:
  - 一個剛連上網路的設備 (客戶端) 需要 IP 位址。
  - 它會發送一個 DHCPDISCOVER 廣播封包到區域網路 (LAN) 上的所有設備。
  - 這個封包的目的是：「嘿，網路上有 DHCP 伺服器嗎？我需要一個 IP 位址。」

## 2. Offer (提供)

- **來源**: DHCP 伺服器 (Server)
- **目的**: 廣播 (Broadcast)
- **說明**:
  - 網路上所有收到 DISCOVER 封包的 DHCP 伺服器都會回應。
  - 伺服器會從自己的 IP 位址池中保留一個尚未被租用的 IP 位址，並準備一個 DHCPOFFER 封包。
  - 這個封包包含提供的 IP 位址、子網路遮罩、預設閘道、DNS 伺服器以及租約期限等資訊。
  - 封包內容類似：「嗨，客戶端，你可以使用這個 IP 位址 `192.168.1.100`。」
  - Offer 封包通常也是以廣播方式發送，因為此時客戶端還沒有自己的 IP。

## 3. Request (請求)

- **來源**: 客戶端 (Client)
- **目的**: 廣播 (Broadcast)
- **說明**:
  - 客戶端可能會收到多個來自不同 DHCP 伺服器的 Offer。
  - 它會選擇第一個收到的 Offer，並向網路發送一個 DHCPREQUEST 廣播封包。
  - 這個封包的目的是告訴所有 DHCP 伺服器：「我決定接受 `伺服器A` 提供的 IP 位址 `192.168.1.100`。」
  - 廣播的目的是通知所有伺服器，包括那些未被選擇的伺服器，讓它們知道可以收回之前提供的 IP 位址，給其他設備使用。

## 4. Acknowledge (確認)

- **來源**: DHCP 伺服器 (Server)
- **目的**: 廣播 (Broadcast)
- **說明**:
  - 被選擇的 DHCP 伺服器收到 REQUEST 封包後，會發送最後一個 DHCPACK 封包。
  - 這個封包確認 IP 位址的租約已成功建立，並再次附上所有網路設定資訊。
  - 內容是：「好的，你現在正式擁有 IP 位址 `192.168.1.100`，租約期限為 X 小時。」
  - 客戶端收到 ACK 封包後，便會設定自己的網路介面，完成 IP 組態，並可以開始正常的網路通訊。

---

**總結**:
整個過程就像客戶端在網路上大喊「我需要地址！」，伺服器們回應「這裡有地址給你選！」，客戶端再大喊「我選定這個了！」，最後被選中的伺服器說「確認，成交！」。
