# è®€æ›¸å„€è¡¨æ¿

é€™æ˜¯ä¸€å€‹è‡ªå‹•æ›´æ–°çš„å„€è¡¨æ¿ï¼Œç”¨ä¾†è¿½è¹¤æ‚¨çš„é–±è®€é€²åº¦ã€‚
å®ƒæœƒè‡ªå‹•å¾ `80_Personal/Reading` è³‡æ–™å¤¾ä¸­æ‰€æœ‰åŒ…å«ç‰¹å®šå…ƒæ•¸æ“šçš„ç­†è¨˜ä¾†æŠ“å–è³‡æ–™ã€‚

---
``` dataviewjs
const pages = dv.pages('"80_Personal/Reading"').where(p => (p.title && p.category) && p.file.path != dv.current().file.path);
const thisYear = dv.date("today").year;

// çµ±è¨ˆæ•¸å­—
const totalFinished = pages.where(p => p.finishDate && p.finishDate.year).length;
const finished = pages.where(p => p.finishDate && p.finishDate.year && dv.date(p.finishDate).year == thisYear).length;
const reading = pages.where(p => p.startDate && !(p.finishDate && p.finishDate.year)).length;
const notStarted = pages.where(p => !p.startDate).length;

// ä»¥ Markdown è¡¨æ ¼è¼¸å‡º
dv.paragraph("## ğŸ“š é–±è®€çµ±è¨ˆ");
dv.table(
    ["æ­·å²å·²è®€", "ä»Šå¹´å·²è®€", "æ­£åœ¨é–±è®€", "æœªé–‹å§‹"],
    [[`${totalFinished} æœ¬`, `${finished} æœ¬`, `${reading} æœ¬`, `${notStarted} æœ¬`]]
);
```

---

## ğŸ“– æ­£åœ¨é–±è®€

```dataview
TABLE WITHOUT ID
    "![|100](" + cover + ")" as "ç¸®åœ–",
    link(file.link, title) as "æ›¸å",
    default(author, "<i>N/A</i>") as "ä½œè€…",
    choice(currentPage AND totalPages,
        "<progress value='" + currentPage + "' max='" + totalPages + "'></progress>" + " " + (round(currentPage / totalPages * 100)) + "%",
        "<i>æœªè¿½è¹¤</i>"
    ) as "é€²åº¦"
WHERE contains(file.folder, "80_Personal/Reading") AND file.path != this.file.path AND (title AND category) AND startDate AND !finishDate
SORT startDate DESC
```

---

## âœ… ä»Šå¹´å·²è®€å®Œ

```dataview
TABLE WITHOUT ID
    "![|100](" + cover + ")" as "ç¸®åœ–",
    link(file.link, title) as "æ›¸å",
    default(author, "<i>N/A</i>") as "ä½œè€…",
    choice(rating, ("â˜…" * rating) + ("â˜†" * (5 - rating)), "<i>æœªè©•åˆ†</i>") as "è©•åˆ†",
    category as "åˆ†é¡",
    dateformat(finishDate, "yyyy/MM/dd") as "å®Œæˆé–±è®€"
WHERE contains(file.folder, "80_Personal/Reading") AND file.path != this.file.path AND (title AND category) AND finishDate AND date(finishDate).year = date("today").year
SORT finishDate DESC
```

---

### å¦‚ä½•ä½¿ç”¨

è¦åœ¨é€™å€‹å„€è¡¨æ¿ä¸­é¡¯ç¤ºä¸€æœ¬æ›¸ï¼Œè«‹åœ¨è©²æ›¸çš„ç­†è¨˜æœ€ä¸Šæ–¹åŠ å…¥ä»¥ä¸‹çš„ YAML å…ƒæ•¸æ“šå€å¡Šï¼Œä¸¦æ ¹æ“šå¯¦éš›æƒ…æ³ä¿®æ”¹å…§å®¹ï¼š

```yaml
---
cover: "æ›¸ç±å°é¢åœ–ç‰‡çš„ç¶²å€"
title: "æ›¸å"
author: "ä½œè€…åç¨±"
category: ["åˆ†é¡1", "åˆ†é¡2"]
status: "reading" # å¯å¡« reading æˆ– finished
startDate: YYYY-MM-DD
finishDate: YYYY-MM-DD # å¦‚æœé‚„æ²’è®€å®Œï¼Œå¯ä»¥ç•™ç™½
rating: 5 # 1-5 çš„è©•åˆ† (è®€å®Œå¾Œå¡«å¯«)
totalPages: 300 # ç¸½é æ•¸ (é–±è®€ä¸­å¡«å¯«)
currentPage: 150 # ç›®å‰é æ•¸ (é–±è®€ä¸­å¡«å¯«)
---
```